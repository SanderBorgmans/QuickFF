

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>qff.py – Main script to run QuickFF calculation &mdash; QuickFF 2.2.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> QuickFF
          

          
            
            <img src="../_static/quickff_logo_trans_small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../papers.html">QuickFF literature</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ig.html">Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ig.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ig.html#molmod-dependency">MolMod dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ig.html#yaff-dependency">Yaff dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ig.html#external-dependencies">External dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ig.html#downloading-quickff">Downloading QuickFF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ig.html#stable-release">Stable release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ig.html#latest-development-version-experts-only">Latest development version (experts only)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ig.html#installing-quickff">Installing QuickFF</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ug.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ug.html#quickff-settings">QuickFF Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#settings-description">Settings description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ug.html#general-settings">General settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ug.html#input-output-settings">Input/output settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ug.html#reference-force-field-contribution-settings">Reference force field contribution settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ug.html#force-field-expression-settings">Force field expression settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ug.html#fitting-algorithm-settings">Fitting algorithm settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#default-settings">Default settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ug.html#preparing-electrostatic-force-field">Preparing electrostatic force field</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ug.html#quickff-main-script-qff-py">QuickFF main script qff.py</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#mandatory-input-files">Mandatory input files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#optional-input-files">Optional input files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#automatic-estimation-of-atom-types">Automatic estimation of atom types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#miscellanous-options">Miscellanous options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#logging">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#parallel-quickff">Parallel QuickFF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ug.html#importing-quickff-as-a-library">Importing QuickFF as a library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#define-the-system">Define the system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#define-the-ab-initio-reference">Define the ab initio reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#define-force-field-reference-objects">Define force field reference objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#define-the-program-and-run-it">Define the program and run it</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ug.html#id3">Logging</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tu.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tu.html#tutorial-1-benzene">Tutorial 1 - Benzene</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tu.html#covalent-force-field-without-non-bonding-terms">Covalent force field without non-bonding terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tu.html#force-field-with-electrostatics">Force field with electrostatics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tu.html#tutorial-2-water">Tutorial 2 - Water</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tu.html#tutorial-3-biphenyl">Tutorial 3 - Biphenyl</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vl.html">Validation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vl.html#validation-methodology">Validation methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vl.html#validation-1-water">Validation 1 - Water</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vl.html#force-field-construction">Force field construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vl.html#force-field-evaluation">Force field evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../vl.html#perturbation-trajectories">Perturbation trajectories</a></li>
<li class="toctree-l4"><a class="reference internal" href="../vl.html#geometry-and-frequencies">Geometry and frequencies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vl.html#validation-2-benzene">Validation 2 - Benzene</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vl.html#id1">Force field construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vl.html#id2">Force field evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../vl.html#id3">Perturbation trajectories</a></li>
<li class="toctree-l4"><a class="reference internal" href="../vl.html#id4">Geometry and frequencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rg.html">Reference Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../rg.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.cost"><code class="docutils literal"><span class="pre">quickff.cost</span></code> – Least-Square cost function for hessian matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.io"><code class="docutils literal"><span class="pre">quickff.io</span></code> – Input/Ouput methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.settings"><code class="docutils literal"><span class="pre">quickff.settings</span></code> – QuickFF configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.perturbation"><code class="docutils literal"><span class="pre">quickff.perturbation</span></code> – Perturbation trajectories for internal coordinates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.program"><code class="docutils literal"><span class="pre">quickff.program</span></code> – Program classes implementing a sequence of fitting steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.reference"><code class="docutils literal"><span class="pre">quickff.reference</span></code> – Representation of the ab initio reference data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.tools"><code class="docutils literal"><span class="pre">quickff.tools</span></code> – Various convenient tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rg.html#module-quickff.valence"><code class="docutils literal"><span class="pre">quickff.valence</span></code> – ValenceFF class storing all valence ff terms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rg.html#scripts">Scripts</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QuickFF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><code class="docutils literal"><span class="pre">qff.py</span></code> – Main script to run QuickFF calculation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/trash/rg_scripts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="qff-py-main-script-to-run-quickff-calculation">
<span id="seclab-rg-scripts-qff"></span><span id="seclab-rg-scripts"></span><h1><code class="docutils literal"><span class="pre">qff.py</span></code> – Main script to run QuickFF calculation<a class="headerlink" href="#qff-py-main-script-to-run-quickff-calculation" title="Permalink to this headline">¶</a></h1>
<div class="highlight-text"><div class="highlight"><pre><span></span>usage: qff.py [-h] [--version] [-s] [-v] [-V] [-l LOGFILE] [--scoop]
              [-c CONFIG_FILE]
              [-m {MakeTrajectories,PlotTrajectories,DeriveFF}]
              [--fn-traj FN_TRAJ] [--only-traj ONLY_TRAJ] [-p PLOT_TRAJ] [-x]
              [--suffix SUFFIX] [--ei EI] [--ei-rcut EI_RCUT] [--vdw VDW]
              [--vdw-rcut VDW_RCUT] [--covres COVRES]
              [--ffatypes {None,list_of_atypes,low,medium,high,highest}]
              fn [fn ...]

This script will apply QuickFF to derive a covalent force field for the given
system from the ab initio input given in the input files.

positional arguments:
  fn                    Input file name that specify the system and ab initio
                        reference data. Multiple file names are allowed, but
                        at least one should be given. Files later in the list
                        overwrite information from earlier files. Allowed file
                        formats are MolMod checkpoint files (file.chk),
                        Gaussian formatted checkpoint files (file.fchk) and
                        VASP xml files (file.xml).

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -s, --silent          Swith of all logging completely, overwrites all other
                        verbosity options.
  -v, --verbose         Increases verbosity, is overwriten if SILENT or
                        VERY_VERBOSE is switched on.
  -V, --very-verbose    Increases verbosity to highest level, is overwriten if
                        SILENT is switched on.
  -l LOGFILE, --logfile LOGFILE
                        Redirect logger output to a file with name LOGFILE.
  --scoop               Flag to enable parallelisation using SCOOP. With
                        SCOOP, the command to run QuickFF is slightly
                        different, the absolute path to quickff.py should be
                        used. For example, to run on 4 cores: python -m scoop
                        -n4 /path/to/qff.py --scoop [options] fns

General QuickFF specifications:
  -c CONFIG_FILE, --config-file CONFIG_FILE
                        Specify a configuration file to read all QuickFF
                        settings from.
  -m {MakeTrajectories,PlotTrajectories,DeriveFF}, --program-mode {MakeTrajectories,PlotTrajectories,DeriveFF}
                        Specify the program mode which defines the set of
                        instructions that will be executed.
  --fn-traj FN_TRAJ     Read/write the perturbation trajectories from/to
                        FN_TRAJ. If the given file exists, the trajectories
                        are read from the file. Otherwise, the trajectories
                        are written to the given file.
  --only-traj ONLY_TRAJ
                        Construct the perturbation trajectory only for the
                        terms with the given basenames. This options is only
                        applied in the MakeTrajectories program.
  -p PLOT_TRAJ, --plot-traj PLOT_TRAJ
                        If set to final, plots the various energy
                        contributions along the perturbation trajectories to
                        using the final force field. If set to all, plots the
                        contributions along the trajectories using all
                        intermediate force fields (given suffixes _Apt1,
                        _Bhc1, _Cpt2 and _Dhc2) as well as the final force
                        field (given the suffix _Ehc3).
  -x, --xyz-traj        Write the perturbation trajectories in XYZ format.
  --suffix SUFFIX       Suffix that will be added to all output files.

Options related to the definition and derivation of the force field:
  --ei EI               A Yaff parameters file defining the electrostatic
                        contribution of the force field.
  --ei-rcut EI_RCUT     The real space cut off for the electrostatic
                        interactions. If the system is periodic, the ewald
                        parameters will be adjusted to this cut off.
  --vdw VDW             A Yaff parameters file defining the van der Waals
                        contribution of the force field.
  --vdw-rcut VDW_RCUT   The real space cut off for the van der Waals
                        interactions.
  --covres COVRES       A Yaff parameters file defining a residual
                        contribution to the covalent part of the force field.

Options related to the definition of the system:
  --ffatypes {None,list_of_atypes,low,medium,high,highest}
                        Assign atom types in the system by parsing an ordered
                        list ofatom types as argument or through the automatic
                        built-in detection (see documentation). By default (or
                        if None is given), the atom types are assumed to be
                        defined in the input files. [default=None]
</pre></div>
</div>
</div>
<div class="section" id="qff-input-ei-py-generate-yaff-parameter-file-for-electrostatics">
<span id="seclab-rg-scripts-inputei"></span><h1><code class="docutils literal"><span class="pre">qff-input-ei.py</span></code> – generate Yaff parameter file for electrostatics<a class="headerlink" href="#qff-input-ei-py-generate-yaff-parameter-file-for-electrostatics" title="Permalink to this headline">¶</a></h1>
<div class="highlight-text"><div class="highlight"><pre><span></span>usage: qff-input-ei.py [-h] [-v]
                       [--ffatypes {None,list_of_atypes,low,medium,high,highest}]
                       [--gaussian] [--bci]
                       [--bci-constraints BCI_CONSTRAINTS]
                       fn_sys charges [fn_out]

This script reads atomic charges from an input file and makes a Yaff
parameters file suitable for the QuickFF option --ei.

positional arguments:
  fn_sys                Any file from which the system can be extracted
                        (MolMod CHK, Gaussian FCHK, XYZ, ...).
  charges               The atomic charges to be used. This argument has the
                        form fn_charges:path, where fn_charges is a filename
                        that contains the charges and path refers to a
                        location within that file where the charges can be
                        found. If fn_charges is an HDF5 file, path is the
                        location of a dataset containing the charges, e.g.
                        &#39;/charges&#39;. If fn_charges is a MolMod CHK file, path
                        is the label of the dataset that contains the atomic
                        charges.
  fn_out                Name of the Yaff file to write the parameters to.
                        [default=pars_ei.txt]

optional arguments:
  -h, --help            show this help message and exit
  -v, --verbose         Increase verbosity of the script [default=False].
  --ffatypes {None,list_of_atypes,low,medium,high,highest}
                        Assign atom types in the system by parsing an ordered
                        list ofatom types as argument or through the automatic
                        built-in detection (see documentation). By default (or
                        if None is given), the atom types are assumed to be
                        defined in the input files. [default=None]
  --gaussian            Use gaussian smeared charges. The radii are taken from
                        the input file fn_in (from dataset /path/radii for
                        HDF5 file or from label `radii` for CHK file) if the
                        data is present, otherwise the radii are estimated
                        according to the procedure of Chen et al. See
                        ``quickff.tools.get_ei_radii`` for more info.
  --bci                 Convert averaged atomic charges to bond charge
                        increments, i.e. charge transfers along the chemical
                        bonds in the system. In this way, one is certain of
                        ending up with a globally neutral system even if bcis
                        from different systems are combined. This option
                        requires the definition of bonds, if the bonds cannot
                        be read from the system file, they will be estimated
                        from the interatomic distances using the detect_bonds
                        routine in the Yaff System class. [default=False]
  --bci-constraints BCI_CONSTRAINTS
                        A file containing constraints for the charge to bci
                        fit in a master: slave0,slave1,...: sign format. A new
                        line should be used for each master and the format is
                        insensitive towards spaces.Sign should be 1.0 or -1.0
                        indicating wheter or not a sign switch should be
                        introduced when mapping the slaves to the master.
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Louis Vanduyfhuys, Center for Molecular Modeling, Ghent University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'2.2.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>